<!DOCTYPE html>
<html lang="ja">
	<head>
		<meta charset="UTF-8">
		<title>1D Scenario Editor</title>
		<link rel="stylesheet" href="css/default.css">
		<script src="js/utils.js"></script>
		<script type="module" src="js/import.js"></script>
	</head>
	<body>
		
		<docs-man></docs-man>
		
		<template id="docs-man">
			
			<link rel="stylesheet" href="css/html-docs-manager-element.css">
			
			<section id="root">
				
				<div id="notification"></div>
				
				<header>
					
					<io-point>
						<nav id="menu" class="io-point-menu spawner to-9">
							<div id="doc-menu" class="io-point-sub-menu">
								<button id="create" type="button" data-iop-inactivatable>新規文書作成</button>
								<div class="hr">🗂️</div>
								<div id="storage-menu" class="io-point-sub-menu">
									<select id="doc-selector"></select>
									<button id="doc-selector-button" type="button" data-iop-inactivatable>開く</button>
									<button id="doc-delete-button" type="button" data-iop-inactivatable>削除</button>
								</div>
							</div>
						</nav>
					</io-point>
					
					<section id="doc-tabs" class="tabs-container"></section>
					
				</header>
				
				<section id="doc-tab-views" class="tab-views-container"></section>
				
			</section>
			
		</template>
		
		<template id="doc-man">
			
			<link rel="stylesheet" href="css/html-doc-manager-element.css">
			
			<section id="root">
				
				<div id="notification"></div>
				
				<header>
					<div id="meta">
						<input id="uid" type="hidden">
						<input id="created-time" type="hidden">
						<input id="updated-time" type="hidden">
					</div>
					<io-point>
						<nav id="menu" class="io-point-menu spawner to-9">
							<div id="doc-menu" class="io-point-sub-menu">
								<button id="create-new-edition" type="button" data-iop-inactivatable>新版作成</button>
								<button id="create-next-edition" type="button" data-iop-inactivatable>重版作成</button>
							</div>
						</nav>
					</io-point>
					<div id="ctrl">
						<button id="save" type="button">保存</button>
						<!--<button id="close" type="button">閉じる</button>
						<label for="name">文書名</label>
						<input id="name" value="">-->
					</div>
					<section id="scenarios-node-tabs-container" class="tabs-container"></section>
				</header>
				
				
				<section id="scenarios-node-tab-views-container" class="tab-views-container"></section>
				
				<!--<section id="container"></section>-->
				
			</section>
			
		</template>
		
		<template id="scenarios-node">
			
			<link rel="stylesheet" href="css/html-scenarios-node-element.css">
			
			<section id="root">
				
				<header id="meta">
					<editable-element id="title">
						<span slot="label">題名</span>
						<input slot="editor">
					</editable-element>
					<editable-element id="author">
						<span slot="label">作者</span>
						<div slot="editor"></div>
					</editable-element>
					<img-loader>
						<!--<fetch-img slot="image" scale="1" x=".5" y=".5" px=".5" py=".5"></fetch-img>-->
						<img-measure slot="image" style="--scale: 1; --x: .5; --y: .5; --px: .5; --py: .5;"></img-measure>
					</img-loader>
				</header>
				
				<div id="scenarios-tabs-menu">
					
					<!--<io-point>
						<nav id="menu" class="io-point-menu spawner to-9">
							<div id="doc-menu" class="io-point-sub-menu">
								<button id="create-new-edition" type="button" data-iop-inactivatable>新しく節を作成</button>
								<button id="create-next-edition" type="button" data-iop-inactivatable>選択中の節を複製</button>
							</div>
						</nav>
					</io-point>-->
					
					<section id="scenarios-tabs"></section>
					
				</div>
				
				<section id="scenarios"></section>
				<!--<section id="scenarios"></section>-->
				
				<!--<section id="ctrl">
					<button id="add" type="button">📝</button>
				</section>-->
				
			</section>
			
		</template>
		
		<template id="img-loader">
			
			<link rel="stylesheet" href="css/html-img-loader-element.css">
			
			<input id="switcher" type="checkbox" hidden>
			
			<section id="root">
				
				<resize-observer id="frame" class="body"><slot id="image-slot" name="image"></slot></resize-observer>
				
				<section id="ctrl">
					<label for="switcher"></label>
					<input id="url">
					<input id="file" type="file">
				</section>
				
			</section>
			
		</template>
		
		<template id="node-element">
			
			<link rel="stylesheet" href="css/html-node-element.css">
			
			<div id="root">
				
				<nav id="nav-before" class="balloon">
					<div id="nav-before-container" class="balloon-container">
						<slot name="nav-before"></slot>
					</div>
					<!--<button id="add-before" type="button">📝</button>-->
				</nav>
				
				<div id="content">
					
					<nav id="nav-content">
						<div class="nav-decorator"></div>
						<div id="nav-content-container" class="balloon-container">
							<slot name="nav-content"></slot>
						</div>
					</nav>
					
					<header id="header">
						<div id="title"><slot name="title"></slot></div>
					</header>
					
					<section id="body"><slot name="node"></slot></section>
					
					<footer id="footer"></footer>
					
				</div>
				
				<nav id="nav-after" class="balloon">
					<div id="nav-after-container" class="balloon-container">
						<slot name="nav-after"></slot>
					</div>
					<!--<button id="add-after" type="button">📝</button>-->
				</nav>
				
			</div>
			
		</template>
		
		<template id="scenario-node-wrapper-parts">
			<button id="create-new-sec" class="wm-h" type="button" slot="nav-content" data-hint="節を新規作成">✨</button>
			<button id="duplicate-current-sec" class="wm-h" type="button" slot="nav-content" data-hint="現在の節を複製">🖨</button>
			<button id="delete-current-sec" class="wm-h" type="button" slot="nav-content" data-hint="現在の節を削除">❌</button>
			<button id="add-before" class="hint-8 wm-h" type="button" slot="nav-before" data-hint="新しい節を挿入">📝</button>
			<button id="add-after" class="hint-8 wm-h" type="button" slot="nav-after" data-hint="新しい節を挿入">📝</button>
		</template>
		
		<template id="scenario-controller-wrapper-parts">
			<button id="create-new-para" class="wm-h" type="button" slot="nav-content" data-hint="段落を新規作成">✨</button>
			<button id="duplicate-current-para" class="wm-h" type="button" slot="nav-content" data-hint="現在の段落を複製">🖨</button>
			<button id="delete-current-para" class="wm-h" type="button" slot="nav-content" data-hint="現在の段落を削除">❌</button>
			<button id="add-before" class="hint-8 wm-h" type="button" slot="nav-before" data-hint="新しい段落を挿入">📝</button>
			<button id="add-after" class="hint-8 wm-h" type="button" slot="nav-after" data-hint="新しい段落を挿入">📝</button>
		</template>
		
		<!--<template id="node-element">
			
			<link rel="stylesheet" href="css/html-node-element.css">
			
			<div id="root">
				
				<header id="header">
					<div id="title"></div>
					<div id="ctrl">
						<button id="delete" type="button">❌</button>
					</div>
				</header>
				
				<section id="body"><slot name="node"></slot></section>
				
				<footer id="footer"></footer>
				
			</div>
			
		</template>-->
		
		<template id="scenario-node">
			
			<link rel="stylesheet" href="css/html-scenario-node-element.css">
			
			<section id="root">
				
				<header>
					<!--<io-point>
						<nav id="menu" class="io-point-menu spawner to-9">
							<div id="doc-menu" class="io-point-sub-menu">
								<button id="create-single-line" type="button" data-iop-inactivatable>新しく段落を作成</button>
								<button id="create-paragraph" type="button" data-iop-inactivatable>選択中の段落を複製</button>
							</div>
						</nav>
					</io-point>-->
					<section id="scenario-tabs"></section>
				</header>
				
				
				<section id="scenario"></section>
				
				<!--<scenario-controller><span slot="title">タイトル未定</span></scenario-controller>-->
				
			</section>
			
		</template>
		
		<!--<template id="scenario-node">
			
			<link rel="stylesheet" href="css/html-scenario-node-element.css">
			
			<section>
				<div id="begin">
					<scenario-controller>
						<span slot="title">開始</span>
					</scenario-controller>
				</div>
				<div id="branch">
					<scenario-controller>
						<span slot="title">選択肢１</span>
						<input id="selection-text" slot="sub-text">
					</scenario-controller>
					<scenario-controller>
						<span slot="title">選択肢２</span>
						<input id="selection-text" slot="sub-text">
					</scenario-controller>
					<scenario-controller>
						<span slot="title">選択肢３</span>
						<input id="selection-text" slot="sub-text">
					</scenario-controller>
				</div>
				<div id="end">
					<scenario-controller>
						<span slot="title">終了</span>
					</scenario-controller>
				</div>
			</section>
			
		</template>-->
		
		<template id="scenario-controller">
			
			<link rel="stylesheet" href="css/html-scenario-controller-element.css">
			
			<section id="root">
				
				<!--<header>
					<io-point>
						<nav id="menu" class="io-point-menu spawner to-9">
							<div id="doc-menu" class="io-point-sub-menu">
								<button id="create-single-line" type="button" data-iop-inactivatable>単行段落作成</button>
								<button id="create-paragraph" type="button" data-iop-inactivatable>段落作成</button>
							</div>
						</nav>
					</io-point>
				</header>-->
				
				<section id="paragraphs"></section>
				
			</section>
			
		</template>
		
		<!--<template id="scenario-controller">
			
			<link rel="stylesheet" href="css/html-scenario-contoller-element.css">
			
			<section id="root">
				
				<header>
					<div id="title"><slot name="title"></slot></div>
				</header>
				
				<editable-element id="sub-text">
					<slot name="sub-text" slot="editor"></slot>
				</editable-element>
				
				<scenario-editor id="editor">
					<textarea id="edit" slot="editor"></textarea>
				</scenario-editor>
				
				<footer></footer>
				
			</section>
			
		</template>-->
		
		<template id="scenario-editor">
			
			<link rel="stylesheet" href="css/html-scenario-editor-element.css">
			
			<article>
				<editable-element id="editor">
					<slot slot="label" name="label"></slot>
					<slot slot="editor" name="editor"></slot>
				</editable-element>
			</article>
			
		</template>
		
		<template id="editable-element">
			
			<link rel="stylesheet" href="css/html-editable-element.css">
			
			<div id="root">
				
				<input id="switch" type="checkbox" hidden>
				
				<div id="ctrl">
					<div id="switcher">
						<label for="switch"></label>
					</div>
				</div>
				
				<div id="edit-node">
					<label id="editor-label" for="edit"><slot name="label"></slot></label>
					<slot id="editor" name="editor"></slot>
				</div>
				
			</div>
			
		</template>
		
		<template id="tab-button">
			<link rel="stylesheet" href="css/html-tab-button-element.css">
			<section id="root">
				<div id="body">
					<div id="node">
						<div id="ctrl-before" class="ctrl">
							<slot name="ctrl-before"></slot>
						</div>
						<div id="content"><div id="icon"><slot name="icon"></slot></div><slot name="content"></slot></div>
						<div id="ctrl-after" class="ctrl">
							<slot name="ctrl-after"></slot>
						</div>
					</div>
				</div>
			</section>
		</template>
		
		<template id="tab-button-ctrl-parts">
			<button id="close" slot="ctrl-before" type="button">❌</button>
		</template>
		
	</body>
</html>